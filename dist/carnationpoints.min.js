((e,i)=>{function n(t,e){this.el="string"==typeof t?i.querySelector(t):t,this.el?(this.defaults={debug:!1,speed:300,onInit:null,onChange:null,breakpoints:[]},this.options={...this.defaults,...e},this.state={initialized:!1,destroyed:!1,breakpoint:null},this._onResize=this._onResize.bind(this),this.init()):console.warn("Breakpoints: element not found ")}n.prototype.init=function(){var t;this.state.initialized||this.state.destroyed||(this.state.initialized=!0,t=this._getWidth(),this.state.breakpoint=this._getActiveBreakpoint(t),e.addEventListener("resize",this._onResize),this._emit("onInit",{width:t,breakpoint:this.state.breakpoint,element:this.el,instance:this}),this._log("initialized"))},n.prototype._onResize=function(){var t,e,i,n;this.state.destroyed||(t=this._getWidth(),(e=this._getActiveBreakpoint(t))!==this.state.breakpoint&&(i=this.state.breakpoint,this.state.breakpoint=e,n=new CustomEvent("breakpoint:change",{detail:{breakpoint:e,previous:i,width:t,element:this.el,instance:this},bubbles:!0}),this.el.dispatchEvent(n),this._emit("onChange",{width:t,breakpoint:e,previous:i,element:this.el,instance:this})))},n.prototype._emit=function(t,e){"function"==typeof this.options[t]&&this.options[t](e)},n.prototype._log=function(...t){this.options.debug&&console.log("Breakpoints:",...t)},n.prototype._getWidth=function(){return e.innerWidth},n.prototype._getActiveBreakpoint=function(n){let s=null;return this.options.breakpoints.forEach(t=>{var e=t.min??0,i=t.max??1/0;e<=n&&n<=i&&(s=t.name??e+"-"+i)}),s},n.prototype.addPoint=function(t=[]){var e,i,n;this.state.destroyed||Array.isArray(t)&&(this.options.breakpoints.push(...t),e=this._getWidth(),(i=this._getActiveBreakpoint(e))!==this.state.breakpoint&&(n=this.state.breakpoint,this.state.breakpoint=i,this._emit("onChange",{width:e,breakpoint:i,previous:n,element:this.el,instance:this})),this._log("points added",t))},n.prototype.getBreakpoint=function(){return this.state.breakpoint},n.prototype.destroy=function(){this.state.destroyed||(e.removeEventListener("resize",this._onResize),this.state.destroyed=!0,this.state.initialized=!1,this.state.breakpoint=null,this.options.breakpoints.length=0,this.options.onChange=null,this.options.onInit=null,this._log("destroyed"),console.warn("Breakpoints: destroyed"))},e.carnationPoints=function(t,e={}){return new n(t,e)}})(window,document);